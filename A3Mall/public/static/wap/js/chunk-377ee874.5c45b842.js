(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-377ee874"],{"3d2c":function(t,e,a){},5246:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("8a0b")},"66b9":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("e3b3"),a("bc1b")},"6b41":function(t,e,a){"use strict";var i=a("d282"),n=a("b1d2"),s=a("ad06"),o=Object(i["a"])("nav-bar"),r=o[0],c=o[1];e["a"]=r({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(s["a"],{class:c("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:c("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:c("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[c({fixed:this.fixed}),(t={},t[n["b"]]=this.border,t)]},[e("div",{class:c("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[c("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:c("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:c("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"8a0b":function(t,e,a){},"8a58":function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75")},ad2b:function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"订单信息","left-arrow":"",fixed:!0,placeholder:!0,"z-index":99999},on:{"click-left":t.prev}}),a("div",{staticClass:"order-info clear"},[a("div",{staticClass:"title"},[t._v("订单创建成功")]),a("div",{staticClass:"list"},[a("div",{staticClass:"m"},[a("span",[t._v("订单编号")]),a("span",[t._v(t._s(t.order.order_no||""))])]),a("div",{staticClass:"m"},[a("span",[t._v("下单时间")]),a("span",[t._v(t._s(t.order.create_time||""))])]),a("div",{staticClass:"m"},[a("span",[t._v("支付方式")]),a("span",[t._v(t._s(t.order.payment_type||""))])]),a("div",{staticClass:"m"},[a("span",[t._v("支付金额")]),a("span",[t._v(t._s(t.order.order_amount||""))])]),a("div",{staticClass:"m"},[a("span",[t._v("支付状态")]),a("span",{staticClass:"err"},[t._v(t._s(t.order.order_status||""))])])]),a("div",{staticClass:"btn"},[a("span",{staticClass:"success",on:{click:function(e){return t.$router.replace("/order/detail/"+t.order.order_id)}}},[t._v("查看订单")]),a("span",{staticClass:"err",on:{click:function(e){t.popupShow=!0}}},[t._v("重新发起支付")])])]),a("van-popup",{style:{height:"40%"},attrs:{closeable:"",position:"bottom"},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[a("div",{staticClass:"popup-payment"},[a("div",{staticClass:"payment-box"},[a("div",{staticClass:"payment-item",on:{click:function(e){return t.selectPayment("wechat")}}},[a("span",[a("i",{staticClass:"fa fa-weixin",staticStyle:{color:"#fff","background-color":"#41b035"}})]),a("span",{class:{activeColor:"wechat"==t.payment}},[t._v("微信支付")]),a("span",{class:{active:"wechat"==t.payment}},[a("i",{staticClass:"fa fa-check"})])]),a("div",{staticClass:"payment-item",on:{click:function(e){return t.selectPayment("balance")}}},[a("span",[a("i",{staticClass:"fa fa-jpy",staticStyle:{color:"#fff","background-color":"#fe960f"}})]),a("span",{class:{activeColor:"balance"==t.payment}},[t._v("余额支付"),a("i",[t._v("可用余额: ￥"+t._s(t.order.users_price||"0.00")+"元")])]),a("span",{class:{active:"balance"==t.payment}},[a("i",{staticClass:"fa fa-check"})])])])]),a("div",{staticClass:"payment-button"},[a("van-button",{attrs:{type:"danger",block:""},on:{click:t.goPay}},[t._v("去支付")])],1)])],1)},s=[],o=(a("b0c0"),a("ac1f"),a("5319"),a("e7e5"),a("d399")),r=a("ade3"),c=(a("66b9"),a("b650")),l=(a("5246"),a("6b41")),d=(a("8a58"),a("e41f")),u={name:"CartInfo",components:(i={},Object(r["a"])(i,d["a"].name,d["a"]),Object(r["a"])(i,l["a"].name,l["a"]),Object(r["a"])(i,c["a"].name,c["a"]),i),data:function(){return{popupShow:!1,payment:"wechat",order:{}}},created:function(){var t=this,e=this.$storage.get("order_id",!1,0);e<=0&&this.$router.replace("/");var a=this.$storage.get("order_msg",!1,"");""!=a&&Object(o["a"])(a),this.$request.get("/order/info",{order_id:e}).then((function(e){e.status?t.order=e.data:t.$router.replace("/"),t.$storage.delete("order_id"),t.$storage.delete("order_msg")})).catch((function(e){t.$router.replace("/")}))},methods:{selectPayment:function(t){this.payment=t},goPay:function(){var t=this;o["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.$http.getOrderDetailPayment({order_id:this.order.order_id,payment_id:this.payment,source:this.$tools.isWeiXin()?2:1}).then((function(e){o["a"].clear(),e.status?t.resultOrderData(e.data):Object(o["a"])(e.info)})).catch((function(t){o["a"].clear(),Object(o["a"])("网络出错，请检查网络是否连接")}))},resultOrderData:function(t){switch(this.popupShow=!1,t.pay+""){case"0":Object(o["a"])("支付成功"),this.$router.replace("/order/detail/"+t.order_id);break;case"1":this.$wx.config(t.result.config);var e=t.result.options;e.success=function(){Object(o["a"])("支付成功"),this.$router.replace("/order/detail/"+t.order_id)},this.$wx.chooseWXPay(e);break;case"2":location.href=t.result.url+"&redirect_url="+location.origin+"/order/detail/"+t.order_id;break;case"99":Object(o["a"])(t.msg);break}},prev:function(){this.$router.replace("/cart/index")}}},p=u,h=(a("e312"),a("2877")),f=Object(h["a"])(p,n,s,!1,null,"4e374ebb",null);e["default"]=f.exports},b650:function(t,e,a){"use strict";var i=a("c31d"),n=a("2638"),s=a.n(n),o=a("d282"),r=a("ba31"),c=a("b1d2"),l=a("48f4"),d=a("ad06"),u=a("543e"),p=Object(o["a"])("button"),h=p[0],f=p[1];function b(t,e,a,i){var n,o=e.tag,p=e.icon,h=e.type,b=e.color,v=e.plain,g=e.disabled,m=e.loading,y=e.hairline,_=e.loadingText,k={};function x(t){m||g||(Object(r["a"])(i,"click",t),Object(l["a"])(i))}function C(t){Object(r["a"])(i,"touchstart",t)}b&&(k.color=v?b:c["i"],v||(k.background=b),-1!==b.indexOf("gradient")?k.border=0:k.borderColor=b);var S=[f([h,e.size,{plain:v,loading:m,disabled:g,hairline:y,block:e.block,round:e.round,square:e.square}]),(n={},n[c["d"]]=y,n)];function O(){var i,n=[];return m?n.push(t(u["a"],{class:f("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):p&&n.push(t(d["a"],{attrs:{name:p,classPrefix:e.iconPrefix},class:f("icon")})),i=m?_:a.default?a.default():e.text,i&&n.push(t("span",{class:f("text")},[i])),n}return t(o,s()([{style:k,class:S,attrs:{type:e.nativeType,disabled:g},on:{click:x,touchstart:C}},Object(r["b"])(i)]),[t("div",{class:f("content")},[O()])])}b.props=Object(i["a"])(Object(i["a"])({},l["c"]),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=h(b)},bc1b:function(t,e,a){},e312:function(t,e,a){"use strict";var i=a("3d2c"),n=a.n(i);n.a},e41f:function(t,e,a){"use strict";var i=a("d282"),n=a("a142"),s=a("6605"),o=a("ad06"),r=Object(i["a"])("popup"),c=r[0],l=r[1];e["a"]=c({mixins:[Object(s["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(a){return t.$emit(e,a)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var a=this.round,i=this.position,s=this.duration,r="center"===i,c=this.transition||(r?"van-fade":"van-popup-slide-"+i),d={};if(Object(n["b"])(s)){var u=r?"animationDuration":"transitionDuration";d[u]=s+"s"}return e("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:d,class:l((t={round:a},t[i]=i,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(o["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})}}]);